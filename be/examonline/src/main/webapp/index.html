<!doctype html>
<html>
<head>
    <meta charset="utf-8">
</head>>
<body>
<form enctype="multipart/form-data" id="form" method="post">
    <label>昵称</label>:<input type="text" name="nickname"><br/>
    <label>头像</label>:<input type="file" name="file" accept="image/jpeg,image/png,image/gif"/><br/>
    <label>性别</label>:
        <input type="radio" name="sex" value="0">女
        <input type="radio" name="sex" value="1">男
        <input type="radio" name="sex" value="2" checked>保密<br/>
    <label>个人介绍</label>:<input type="text" name="introduce"><br/>
    <label>真实姓名</label>:<input type="text" name="realName"><br/>
    <label>邮箱</label>:<input type="text" name="mail"><br/>
    <label>电话</label><input type="text" name="phoneNumber"><br/>
    <label>qq</label>:<input type="text" name="qqNumber"><br/>
    <input type="submit" value="提交">
</form>
</body>
<script src="js/jquery-3.5.1.min.js"></script>
<script src="js/jquery.form.js"></script>
<script>
    window.onload=function () {
        const token = "37a14a10-8927-429b-81eb-a25d2c0c5a96";
        window.localStorage.setItem('token',token);
    };
    const ac=document.getElementById('form');
    alert(ac);
    ac.setAttribute("action","http://localhost:8080/examonline/userInfo?token=" +window.localStorage.getItem('token'));//从本地存储获取token
    alert(ac.getAttribute("action"));

    ac.onsubmit=function () {
        $('form').ajaxSubmit(function (data) {//提交表单
            console.log(data);   //响应数据
        });
        return false;//阻止页面跳转
    }
</script>
</html>
